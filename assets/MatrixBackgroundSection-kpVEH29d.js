import{j as r}from"./ui-mbOQ0UrO.js";import{r as M}from"./vendor-APk6H_Kk.js";import{u as Y}from"./useDeviceCapabilities-B_kWIvKs.js";import{m as G}from"./motion-C1B67qiU.js";const J=m=>{const{isLowPowerMode:h}=Y(),s=M.useCallback(o=>{switch(o){case"low":return{opacity:.4,speed:.4,density:.6,glow:2};case"high":return{opacity:.8,speed:.9,density:1.5,glow:5};case"medium":default:return{opacity:.6,speed:.65,density:1,glow:3}}},[]);return M.useMemo(()=>{const o=s(m);return h?{opacity:o.opacity*.75,speed:o.speed*.65,density:o.density*.5,glow:Math.max(1,o.glow*.4)}:o},[m,h,s])},K=()=>{const[m,h]=M.useState({isMobile:!1,isTablet:!1,isDesktop:!0,isHighPerformance:!0,isMediumPerformance:!1,isLowPerformance:!1,cores:4,width:1920,height:1080});return M.useEffect(()=>{const s=()=>{const i=window.innerWidth,l=window.innerHeight,g=navigator.userAgent,a=/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(g),t=/iPad|tablet|Tablet/i.test(g)||i>=768&&i<1024,n=!a&&!t,c=navigator.hardwareConcurrency||2,y=c>4&&n,x=c>2&&c<=4||t,f=c<=2||a;h({isMobile:a,isTablet:t,isDesktop:n,isHighPerformance:y,isMediumPerformance:x,isLowPerformance:f,cores:c,width:i,height:l})};s();let o;const u=()=>{clearTimeout(o),o=window.setTimeout(s,250)};return window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u),clearTimeout(o)}},[]),m},Q=({intensity:m="medium"})=>{const h=M.useRef(null),{opacity:s,speed:o,density:u,glow:i}=J(m),[l,g]=M.useState({x:0,y:0}),a=K();return M.useEffect(()=>{let t=null;const n=c=>{t||(t=window.setTimeout(()=>{g({x:c.clientX,y:c.clientY}),t=null},a.isLowPerformance?150:100))};return window.addEventListener("mousemove",n,{passive:!0}),()=>{window.removeEventListener("mousemove",n),t&&window.clearTimeout(t)}},[a.isLowPerformance]),M.useEffect(()=>{const t=h.current;if(!t)return;const n=t.getContext("2d",{alpha:!0,desynchronized:!0,willReadFrequently:!1});if(!n)return;const c=()=>{if(!t)return;const d=Math.min(window.devicePixelRatio||1,a.isLowPerformance?1.5:2);t.width=window.innerWidth*d,t.height=window.innerHeight*d,t.style.width=`${window.innerWidth}px`,t.style.height=`${window.innerHeight}px`,n.scale(d,d),n.clearRect(0,0,t.width,t.height)};c();let y;const x=()=>{clearTimeout(y),y=window.setTimeout(c,200)};window.addEventListener("resize",x,{passive:!0});const f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789<>/?{}[]()=+-*&^%$#@!;:,.\\|",E=["function()","const","let","var","=>","class","import","export","return","async","await","try","catch","if","else","for","while"],v=Math.max(14,Math.floor(window.innerWidth/(100*u))),I=a.isLowPerformance?v*1.5:v,b=Math.ceil(window.innerWidth/I),T=new Array(b).fill(0).map(()=>Math.random()*-100),z=o*(a.isLowPerformance?.8:1),R=new Array(b).fill(0).map(()=>z*(Math.random()*.5+.5)),$=new Array(b).fill("").map(()=>{const d=Math.random();if(d>.7){const e=Math.random()*30+250,p=Math.random()*30+80,w=Math.random()*20+65;return`hsla(${e}, ${p}%, ${w}%, ${s})`}else if(d>.45){const e=Math.random()*30+210,p=Math.random()*30+80,w=Math.random()*20+65;return`hsla(${e}, ${p}%, ${w}%, ${s})`}else{const e=Math.random()*20+180,p=Math.random()*30+80,w=Math.random()*20+65;return`hsla(${e}, ${p}%, ${w}%, ${s})`}}),C=new Array(b).fill(0).map(()=>[12,14,16][Math.floor(Math.random()*3)]),F=new Array(b).fill(0).map(()=>Math.random()>.8?1:0),D=new Array(b).fill("").map(()=>f[Math.floor(Math.random()*f.length)]),O=()=>{n.fillStyle=`rgba(0, 0, 0, ${a.isLowPerformance?.05:.03})`,n.fillRect(0,0,t.width/(window.devicePixelRatio||1),t.height/(window.devicePixelRatio||1));const d=a.isLowPerformance?2:1;for(let e=0;e<T.length;e+=d){const p=e*I,w=T[e]*C[e];let A="";Math.random()>.95&&(D[e]=f[Math.floor(Math.random()*f.length)]),F[e]===0?A=D[e]:A=E[Math.floor(Math.random()*E.length)];const S=Math.abs(p-l.x),j=Math.abs(w-l.y);if(S<200&&j<200){const H=Math.sqrt(S*S+j*j),P=H<150?(150-H)/150:0;if(P>.3||Math.random()>.9?(n.shadowColor=$[e],n.shadowBlur=i+P*4):n.shadowBlur=0,R[e]=z*(Math.random()*.5+.5)*(1+P*1.5),P>.3){const L=$[e].match(/hsla\((\d+),\s*(\d+)%,\s*(\d+)%,\s*([\d.]+)\)/);if(L){const _=parseInt(L[1]),q=parseInt(L[2]),X=Math.min(90,parseInt(L[3])+P*15);n.fillStyle=`hsla(${_}, ${q}%, ${X}%, ${s+P*.1})`}else n.fillStyle=$[e]}else n.fillStyle=$[e]}else n.shadowBlur=0,n.fillStyle=$[e];n.font=`${F[e]===1?"bold ":""}${C[e]}px "Fira Code", monospace`,n.fillText(A,p,w),w>t.height/(window.devicePixelRatio||1)&&Math.random()>.98&&(T[e]=0),T[e]+=R[e]}};let B,k=0;const N=1e3/(a.isHighPerformance?30:a.isMediumPerformance?24:18),W=d=>{B=requestAnimationFrame(W);const e=d-k;e>N&&(k=d-e%N,O())};return W(0),()=>{cancelAnimationFrame(B),window.removeEventListener("resize",x),clearTimeout(y)}},[s,o,u,i,l,a]),r.jsx("canvas",{ref:h,className:"absolute inset-0 w-full h-full",style:{opacity:s*2,pointerEvents:"none"}})},U=({particleCount:m})=>r.jsx(r.Fragment,{children:Array.from({length:Math.min(m,40)}).map((h,s)=>{const o=Math.random()*6+2,u=Math.random();let i;u<.25?i="#9b87f5":u<.45?i="#8B5CF6":u<.65?i="#1EAEDB":u<.85?i="#50E3C2":i="#D946EF";const l=Math.random()*.5+.4,g=`${Math.random()*100}%`,a=`${Math.random()*100}%`,t=Math.random()*100-50,n=Math.random()*100-50,c=Math.random()*20+15,y=Math.random()*-15,x=Math.random();let f={};return x>.8?f={x:Array.from({length:5},(E,v)=>Math.sin(v*Math.PI/2)*t/2),y:Array.from({length:5},(E,v)=>Math.cos(v*Math.PI/2)*n/2),opacity:[l,l*1.7,l],scale:[1,Math.random()>.7?1.3:1,1]}:f={x:[0,t,0,-t/1.5,0],y:[0,n,-n/2,n/1.5,0],opacity:[l,l*1.7,l],scale:[1,Math.random()>.7?1.3:1,1]},r.jsx(G.div,{className:"absolute rounded-full pointer-events-none z-0",style:{width:`${o}px`,height:`${o}px`,background:i,opacity:l,top:g,left:a,filter:`blur(${Math.random()>.7?1:0}px)`,boxShadow:Math.random()>.7?`0 0 12px 4px ${i}80`:"none"},initial:{opacity:0},animate:f,transition:{duration:c,repeat:1/0,ease:"easeInOut",delay:y}},s)})}),V=()=>r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute top-1/4 -right-32 w-96 h-96 bg-gradient-radial from-blue-500/25 to-transparent rounded-full filter blur-3xl pointer-events-none animate-pulse-slow"}),r.jsx("div",{className:"absolute bottom-1/3 -left-24 w-80 h-80 bg-gradient-radial from-purple-500/25 to-transparent rounded-full filter blur-3xl pointer-events-none animate-pulse-slow animation-delay-1500"}),r.jsx("div",{className:"absolute top-3/4 left-1/2 w-72 h-72 bg-gradient-radial from-cyan-400/20 to-transparent rounded-full filter blur-3xl pointer-events-none animate-pulse-slow animation-delay-1000"})]}),se=({children:m,intensity:h="medium",particleCount:s=30})=>r.jsxs("div",{className:"relative overflow-hidden py-12",children:[r.jsx(Q,{intensity:h}),r.jsx(U,{particleCount:s}),r.jsx(V,{}),r.jsx("div",{className:"relative z-10",children:m})]});export{se as default};
