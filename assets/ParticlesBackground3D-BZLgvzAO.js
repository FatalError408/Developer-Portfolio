const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SceneSetup-I8exk29M.js","assets/ui-BCZOt8hk.js","assets/vendor-CSL580EJ.js","assets/fiber-BS7ElgSb.js","assets/three-CgMPOFvX.js","assets/ParticlesMaterial-C_v7kVAb.js"])))=>i.map(i=>d[i]);
import{_ as m}from"./drei-DKV-X7T3.js";import{j as a}from"./ui-BCZOt8hk.js";import{r as t}from"./vendor-CSL580EJ.js";import{C as w}from"./fiber-BS7ElgSb.js";import"./three-CgMPOFvX.js";const p=typeof window<"u",f=()=>{const[r,n]=t.useState({x:0,y:0,z:0});return t.useEffect(()=>{if(!p)return;let e;const o=i=>{e||(e=window.setTimeout(()=>{const d=i.clientX/window.innerWidth*2-1,s=-(i.clientY/window.innerHeight)*2+1;n({x:d,y:s,z:0}),e=0},50))};return window.addEventListener("mousemove",o,{passive:!0}),()=>{window.removeEventListener("mousemove",o),e&&window.clearTimeout(e)}},[]),r},l=typeof window<"u",P=()=>{const[r,n]=t.useState(500);return t.useEffect(()=>{if(l){const o=navigator.hardwareConcurrency||2,i=o>4,d=o>2,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=window.innerWidth;let c=500;i&&!s&&u>1024?c=1500:d&&!s&&u>768?c=800:s&&(c=200),n(c)}},[]),{particleCount:r,isLowPowerMode:(()=>{if(!l)return!0;const o=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),i=navigator.hardwareConcurrency||2;return o||i<=2})()}},h=t.lazy(()=>m(()=>import("./SceneSetup-I8exk29M.js"),__vite__mapDeps([0,1,2,3,4]))),v=t.lazy(()=>m(()=>import("./ParticlesMaterial-C_v7kVAb.js"),__vite__mapDeps([5,1,2,4,3]))),M=()=>{const r=f(),{particleCount:n,isLowPowerMode:e}=P();if(e&&n<250)return null;const o=e?[.5,1]:[.6,1.5];return a.jsx("div",{className:"fixed inset-0 -z-10 opacity-80 pointer-events-none",children:a.jsx(w,{camera:{position:[0,0,10],fov:60},dpr:o,gl:{alpha:!0,antialias:!1,powerPreference:"high-performance",depth:!1,stencil:!1,precision:e?"lowp":"mediump"},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameloop:"demand",performance:{min:.1},children:a.jsx(t.Suspense,{fallback:null,children:a.jsx(h,{children:a.jsx(v,{count:n,mousePosition:r})})})})})},C=t.memo(M);export{C as default};
