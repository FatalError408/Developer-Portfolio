import{j as k}from"./ui-b3GSv_XM.js";import{r as o}from"./vendor-gt8Md1SS.js";const P=({particleCount:R=50,connectionDistance:l=120,mouseRadius:f=100,colors:y=["#3A36E0","#6E42CA","#FF7B5C","#4F46E5","#8B5CF6"],className:L=""})=>{const m=o.useRef(null),g=o.useRef(),M=o.useRef([]),v=o.useRef({x:0,y:0,isInside:!1}),[s,A]=o.useState({width:0,height:0}),b=o.useCallback(()=>{const n=[];for(let t=0;t<R;t++)n.push({x:Math.random()*s.width,y:Math.random()*s.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*3+1,color:y[Math.floor(Math.random()*y.length)],alpha:Math.random()*.5+.3});M.current=n},[R,s,y]),w=o.useCallback(()=>{const n=m.current;if(!n)return;const t=n.getBoundingClientRect(),i=window.devicePixelRatio||1;n.width=t.width*i,n.height=t.height*i,n.style.width=`${t.width}px`,n.style.height=`${t.height}px`;const r=n.getContext("2d");r&&r.scale(i,i),A({width:t.width,height:t.height})},[]);o.useEffect(()=>{const n=m.current;if(!n)return;const t=e=>{const x=n.getBoundingClientRect();v.current={x:e.clientX-x.left,y:e.clientY-x.top,isInside:!0}},i=()=>{v.current.isInside=!0},r=()=>{v.current.isInside=!1};return n.addEventListener("mousemove",t,{passive:!0}),n.addEventListener("mouseenter",i),n.addEventListener("mouseleave",r),()=>{n.removeEventListener("mousemove",t),n.removeEventListener("mouseenter",i),n.removeEventListener("mouseleave",r)}},[]);const E=o.useCallback(()=>{const n=m.current,t=n?.getContext("2d");if(!n||!t)return;t.clearRect(0,0,s.width,s.height);const i=M.current,r=v.current;i.forEach((e,x)=>{if(r.isInside){const h=r.x-e.x,a=r.y-e.y,c=Math.sqrt(h*h+a*a);if(c<f){const d=(f-c)/f,u=Math.atan2(a,h);e.vx+=Math.cos(u)*d*.01,e.vy+=Math.sin(u)*d*.01}}e.x+=e.vx,e.y+=e.vy,(e.x<0||e.x>s.width)&&(e.vx*=-.8,e.x=Math.max(0,Math.min(s.width,e.x))),(e.y<0||e.y>s.height)&&(e.vy*=-.8,e.y=Math.max(0,Math.min(s.height,e.y))),e.vx*=.99,e.vy*=.99,t.beginPath(),t.arc(e.x,e.y,e.size,0,Math.PI*2),t.fillStyle=e.color,t.globalAlpha=e.alpha,t.fill();for(let h=x+1;h<i.length;h++){const a=i[h],c=e.x-a.x,d=e.y-a.y,u=Math.sqrt(c*c+d*d);if(u<l){const C=(1-u/l)*.4;t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(a.x,a.y),t.strokeStyle=`rgba(99, 102, 241, ${C})`,t.globalAlpha=C,t.lineWidth=1,t.stroke()}}}),t.globalAlpha=1,g.current=requestAnimationFrame(E)},[s,l,f]);return o.useEffect(()=>{w();const n=()=>w();return window.addEventListener("resize",n,{passive:!0}),()=>window.removeEventListener("resize",n)},[w]),o.useEffect(()=>{s.width&&s.height&&b()},[b]),o.useEffect(()=>(M.current.length>0&&E(),()=>{g.current&&cancelAnimationFrame(g.current)}),[E]),k.jsx("canvas",{ref:m,className:`absolute inset-0 pointer-events-auto ${L}`,style:{opacity:.6}})};export{P as default};
